<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Master - 파이썬 기초 완정학습</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">
</head>

<body class="dark-theme">
    <div class="app-container">
        <aside class="sidebar">
            <div class="logo">
                <span class="logo-icon">🐍</span>
                <span class="logo-text">Python Master</span>
            </div>
            <nav class="chapter-list" id="chapter-list">
                <!-- Chapters will be injected here -->
            </nav>
            <div class="auth-controls" id="auth-controls"
                style="padding: 1rem; border-top: 1px solid var(--border-color);">
                <!-- Dynamic Auth UI -->
                <button class="nav-btn hidden" style="width: 100%;" onclick="location.href='login.html'"
                    id="login-link">로그인</button>
                <div id="user-controls" class="hidden">
                    <div id="user-info" style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                    </div>
                    <button class="nav-btn" style="width: 100%; margin-bottom: 0.5rem;"
                        onclick="location.href='admin.html'" id="admin-link">관리자 페이지</button>
                    <button class="nav-btn" style="width: 100%;" onclick="signOut()" id="logout-btn">로그아웃</button>
                </div>
            </div>
        </aside>

        <!-- Supabase SDK -->
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
        <script src="supabase_client.js"></script>

        <main class="content-area">
            <header class="top-bar">
                <h1 id="current-chapter-title">파이썬 시작하기</h1>
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
            </header>

            <section class="lesson-content" id="lesson-content">
                <div class="welcome-screen">
                    <h2>파이썬 학습에 오신 것을 환영합니다!</h2>
                    <p>왼쪽 사이드바에서 챕터를 선택하여 학습을 시작하세요.</p>
                </div>
            </section>

            <section class="practice-section hidden" id="practice-section">
                <h3>직접 채워보기</h3>
                <div class="practice-info">아래 결과가 나오도록 빈칸을 채워보세요:</div>
                <div id="practice-goal" class="practice-goal"></div>
                <div class="practice-card" id="practice-container">
                    <!-- Practice inputs will be injected here -->
                </div>
                <div class="practice-controls">
                    <button class="submit-btn" id="check-practice">코드 확인</button>
                    <div id="practice-feedback" class="feedback"></div>
                </div>
            </section>

            <section class="quiz-section hidden" id="quiz-section">
                <h3>실습 문제</h3>
                <div id="quiz-container">
                    <p class="quiz-question" id="quiz-question"></p>
                    <div class="quiz-options" id="quiz-options"></div>
                    <button class="submit-btn" id="submit-quiz">정답 확인</button>
                    <div id="quiz-feedback" class="feedback"></div>
                </div>
            </section>

            <footer class="content-footer">
                <button id="prev-btn" class="nav-btn" disabled>이전</button>
                <button id="next-btn" class="nav-btn">다음</button>
            </footer>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>
